<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>使用xhr封装Ajax请求</title>
</head>
<body>
<script>
        
//===========================一、Ajax实现。XMLHttpRequest================

    /* //1、创建xhr对象
    const xhr=new XMLHttpRequest();
    //2、初始化连接：请求类型，地址，async（默认true）
    xhr.open('get','http://localhost:8000/posts');
    //3、发送请求
    xhr.send();
    //4、获取服务器响应的数据
    xhr.onload=function(){
        console.log(xhr.responseText);
    } */

//===========================二、发送带参数的Get请求===================
/* 
    将参数拼接到url的后面
 */
    /* const xhr=new XMLHttpRequest();
    //参数
    var params='name=zs&age=14';
    xhr.open('get','http://localhost:8000/posts?'+params);
    xhr.send();
    xhr.onload=function(){
        console.log(xhr.responseText);
    }  */

//===========================三、发送带参数的POST请求===================
/* 
    参数需要在send()中传递
    需要设置请求报文头信息
 */
    const xhr=new XMLHttpRequest();
    var params='name=zs&age=14';
    xhr.open('get','http://localhost:8000/posts');
    
    //post请求需要设置请求参数格式类型
    xhr.setRequestHeader('Content-Type','Application/x-www-form-urlencoded');

    //post请求在send()传参
    xhr.send(params);

    xhr.onload=function(){
        console.log(xhr.responseText);
    } 
/* 
    post格式数据，请求参数类型为Application/json
    是以json字符串传递

    params={'name':'zs','age':14};
    xhr.setRequestHeader('Content-Type','Application/json');
    xhr.send(JSON.stringify(params));
 */


</script>
</body>
</html>