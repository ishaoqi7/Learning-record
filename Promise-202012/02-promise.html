<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<script type="Text/javascript">
    var p= new Promise((resolve,reject)=>{
        setTimeout(() => {
            let n=Math.round(Math.random()*100);
            if(n>50){
                resolve(n);     //执行时会将promise实例状态改为resolved/fullfilled
            }else{
                reject(n);      //执行时会将promise实例状态改为rejected
            }
        },3000);
    });
//p.then(),两个回调函数参数。第一个对成功状态进行处理，第二个~~~失败~~~。
//返回一个新的promise对象。
    let result=p.then(data=>{
        console.log("成功结果："+data);
        return "hhhh";
    },reason=>{
        console.log("失败结果:"+reason);
    });

    //异步任务未执行完时，返回的promise 值为undefined
    console.log(result);
// p.catch(reason=>{}):定义失败的函数回调。


</script>
</body>
</html>